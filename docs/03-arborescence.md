# 目錄（樹狀）結構

## `/bin`

這個目錄包含兩個文件，其中一個將非常重要，因為我們將經常使用它：`console`。 Symfony 控制台（**與 Symfony CLI 工具不同**）提供了一些實用命令，用於在我們的目錄結構中生成文件，加速應用程式的開發，同時確保程式碼風格更加一致：透過模板生成的程式碼始終以相同的方式 進行，我們只需添加適用於我們應用程式的程式碼。

## `/config`

這個目錄，正如其名，包含應用程式中使用的不同套件的設定檔。

設定檔使用基於縮排的 [`yaml`](https://fr.wikipedia.org/wiki/YAML) 格式。

還有兩個 `bundles.php` 文件，用於在應用程式中啟動我們想要啟用的應用程式元件，根據環境不同，以及 PHP 7.4 引入的腳本預先載入 `preload.php` 檔案 。

## `/migrations`

當我們使用資料庫時，遷移將包含描述資料庫結構變化的 PHP 類別。

## `/public`

該資料夾只包含一個 `index.php` 文件，它將是我們應用程式的入口。

## `/src`

該資料夾包含應用程式的類別。

例如，控制器 `Controllers` 資料夾將包含用於管理應用程式中導航和路由的所有控制器類別。

實體（即模型）將放在 `Entity` 資料夾中。

`Repository` 資料夾中的儲存庫將是我們的服務層，允許我們查詢模型。

我們不必碰觸 `Kernel.php` 文件，它是 Symfony 的核心。

## `/tests`

該資料夾將包含我們編寫的所有單元或功能測試。

這些測試可用於自動化套件，以檢查程式碼是否運作正確，以及/或個別應用程式元件是否通訊正確。

## `/translations`

該資料夾將包含翻譯檔案, 可以讓我們在應用程式中使用多語言標籤或本地化字串。

## `/var`

此資料夾用於接收快取和日誌數據，如果使用版本管理器，則不與版本管理器整合。

例如，應用程式容器編譯產生的檔案可以在 `cache` 資料夾中找到。

## `/vendor`

`/vendor` 資料夾由 Composer 管理，用於記錄應用程式中使用的自動載入方法和依賴關係的來源。

請注意，它沒有版本控制。

事實上，該資料夾**完全**由 Composer 管理。 因此，當你複製或衍生一個原始碼庫時，可以使用 `Composer install` 指令來產生它。 該資料夾通常包含應用程式依賴項中的數千個文件，因此無需將所有這些文件提交並推送到遠端倉庫。

## `.env`

該檔案包含應用程式的環境變數。

首先，它包含環境定義 (`APP_ENV`)。

我們稍後會討論定義包含環境變數的多個檔案以及相關版本控制策略的實用性。

## `.env.test`

與 `.env`檔案相同，`.env.test` 檔案中也定義了環境變量，但這些值僅在執行單元和/或功能測試時使用。

例如，您可能會決定在測試過程中變更資料庫存取參數，以便與開發中使用的不同資料庫進行互動。

## `.gitignore`

所有不應納入版本控制的文件。

## `composer.json`

Composer 的主文件，其中包含所有依賴項，包括自動載入方法。

應用程式的依賴項分為兩類：`require` 和 `require-dev`。

`require` 將經常使用的依賴項歸類在一起。

在 `require-dev` 中，我們將放置所謂的**開發依賴項**。 這些依賴項主要涉及單元測試或在應用程式開發階段可以實施的實用工具。

> 例如，在生產階段，我們不需要開發依賴項。 因此，我們可以要求 Composer 不要將它們整合到專案中： `compose install --no-dev`

## `composer.lock`

當執行 Composer 安裝時，Composer 會參考該檔案來安裝所有先前定義的依賴項。

它相當於 npm 中的 `package-lock.json`，可以將已安裝的版本分組。

因此，任何新加入專案的人在複製或衍生專案後只需執行`composer install`，就會得到與我們完全相同的版本。

## `docker-compose.override.yml 和 docker-compose.yml`

這兩個檔案描述了用於[Docker](https://www.docker.com/)容器化工具（特別是`docker-compose`工具）的一個或多個要實例化的服務。

## `phpunit.xml.dist`

運行自動測試套件的工具叫做 [PHPUnit](https://phpunit.de/)。

該檔案是 PHPUnit 設定檔。

## `symfony.lock`

此文件用於與 Symfony 的第 4 版整合的工具：Symfony Flex。

Symfony Flex 是建立在 Composer 基礎上的工具。 除了在 Symfony 專案中安裝依賴之外，它還可用於運行**配方**，例如軟體包預先配置腳本。

由於我們面對的是一個框架，因此它採用了特定的結構（`config` 資料夾用於配置，`PSR-4` 自動加載，`App` 作為根命名空間，等等）。

當我們使用 `composer require` 命令安裝相依項時，Flex 可以自動建立一個適當位置的設定文件，或是在 src 目錄中建立 PHP 類模板等等。 它將幫助我們**將一個套件整合到 Symfony 應用程式中**。

除軟體包版本外，該文件還保留了已執行配方的版本。
